<%- include("header") -%>

    <body class="text-center">

        <div class="lobby">
            <a href="/" class="create">Home</a>
        </div>

        <div class="rules">
            <a href="/rules" class="create">Rules</a>
        </div>

        <div class="logout">
            <a href="/users/logout" class="create">Log Out</a>
        </div>
        
        <div class="form-signin">
        <img class="mb-4" src="images/uno.png" alt="" width="300" height="300">

        <!--Create Game-->
        <div class="create_game_button">
            <button id="create" type="button">Create New Game</button>
        </div>

        <ul>
            <% if(messages.success) { %>
              <li><%= messages.success %></li>
            <% } %>
            <% if(messages.error) { %>
              <li><%= messages.error %></li>
            <% } %>
        </ul>

        <h1>Welcome <%= name %></h1>

        <ul>
            <% if(typeof errors != 'undefined') { %> <% errors.forEach(error => { %>
              <li><%= error.message %> </li>
            <% }) %> <% } %>
        </ul>

        <div class="mid">
            <h1>Current Games</h1>
            <p>Green: Open</p>
            <p>Red: In Progress</p>
        </div>

        <!-- List of Active Games (Faisal) -->
        <div id="games-container">
            <div class="games-table">
                <div class="games-row games-open">
                    <div class="games-column">Game Title</div>
                    <div class="games-column">0/4</div>
                    <div class="games-column">Open</div>
                    <div class="games-column">
                        <button id="game-listing" type="button" data-id="15">Join</button>
                    </div>
                </div>
            </div>
            <div class="games-table">
                <div class="games-row">
                    <div class="games-column">Zaheer's game</div>
                    <div class="games-column">4/4</div>
                    <div class="games-column">In Progress</div>
                    <div class="games-column">
                        <button id="" type="button" data-id="">Join</button>
                    </div>
                </div>
            </div>
            <div class="games-table">
                <div class="games-row">
                    <div class="games-column">New game</div>
                    <div class="games-column">1/4</div>
                    <div class="games-column">Open</div>
                    <div class="games-column">Join</div>
                </div>
            </div>
            <div class="games-table">
                <div class="games-row">
                    <div class="games-column">Test game</div>
                    <div class="games-column">3/4</div>
                    <div class="games-column">Open</div>
                    <div class="games-column">Join</div>
                </div>
            </div>
            <div class="games-table">
                <div class="games-row">
                    <div class="games-column">Another game</div>
                    <div class="games-column">2/4</div>
                    <div class="games-column">Open</div>
                    <div class="games-column">Join</div>
                </div>
            </div>
        </div>

        <!--To do: iterate tables by # games available-->
        <!--Also to do: grey out join when in progress-->
        <!--Currently hardcoded to include # games in games.js-->
        <table>
            <tr>
                <td>Game Number</td>
                <td>Players (#/4)</td>
                <td>Status</td>
                <td>Join</td>
            </tr>
            <div class="game-open">
                <tr>
                    <td>001</td>
                    <td>0/4</td>
                    <td>Open</td>
                    <!-- <td><a class="join" id="1">Join Game</a></td> -->
                    <td><button id="game-listing" type="button" data-id="15">Join</button></td>
                </tr>
            </div>
            <tr class="game-inprogress">
                <td>002</td>
                <td>4/4</td>
                <td>In Progress</td>
                <td></td>
            </tr>
            <tr class="game-open">
                <td>003</td>
                <td>2/4</td>
                <td>Open</td>
                <td><a class="join" id="2">Join Game</a></td>
            </tr>
            <!-- To be implemented - link front-end to back end through {}
            <tr>
                <td>{game-id}</td>
                <td>{game-players}</td>
                <td>{game-status}</td>
                <td>{join-game}</td>
            </tr>
            -->
        </table>

        <!--Delete Game (does not work yet)-->
        <!--Must only delete games started by the user who created it-->
        <!-- Delete games not required, professor says to avoid deleting entries from table like games ~ Faisal -->
        <!-- <div class="delete_game_button">
            <button type="button">Delete a Game</button>
        </div> -->

        <!-- <div class="users_waiting">
            <table>
                <tr>
                    <td>Users Waiting for a Game</td>
                </tr>
                <tr> -->
                    <!--Eventually must iterate through the user database-->
                    <!-- <td>None</td> -->
                    <!--<td>{users-waiting}</td>-->
                <!-- </tr>
            </table>
        </div> -->
    </div>

    </body>

    <script src="/js/lobby.js" charset="utf-8"></script>

<%- include("footer") -%>
